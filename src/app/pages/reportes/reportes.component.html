<div class="max-w-4xl mx-auto mt-8 p-4">
  <h1 class="text-2xl font-bold text-gray-800 mb-6">Reportes</h1>

  <!-- <form (ngSubmit)="obtenerReporte()" class="grid gap-4">
    <input
      class="border p-2"
      [(ngModel)]="nuevoServicio.nombre"
      name="nombre"
      placeholder="Nombre del servicio"
      required
    />

    <select
      class="border p-2"
      [(ngModel)]="nuevoServicio.clienteId"
      name="clienteId"
      required
    >
      <option value="" disabled selected>Selecciona un cliente</option>
      <option *ngFor="let cliente of clientes" [value]="cliente.idCliente">
        {{ cliente.nombre }}
      </option>
    </select>

    <select
      class="border p-2"
      [(ngModel)]="nuevoServicio.planId"
      name="planId"
      required
    >
      <option value="" disabled selected>Selecciona un plan</option>
      <option *ngFor="let plan of planes" [value]="plan.idPlan">
        {{ plan.nombrePlan }}
      </option>
    </select>

    <select
      class="border p-2"
      [(ngModel)]="nuevoServicio.estado"
      name="estado"
      required
    >
      <option value="activo">Activo</option>
      <option value="inactivo">Inactivo</option>
    </select>


    <button
      class="bg-blue-600 text-white p-2 rounded hover:bg-blue-700"
      type="submit"
    >
      Crear Servicio
    </button>
  </form> -->

  <form (ngSubmit)="obtenerReporte()" class="grid gap-4 max-w-md mx-auto bg-white p-4 rounded shadow">
    <div>
      <label for="fechaInicio" class="block text-sm font-medium text-gray-700 mb-1">
        Fecha de Inicio
      </label>
      <input type="date" id="fechaInicio" name="fechaInicio" [(ngModel)]="consulta.fechaInicio" required
        class="border p-2 w-full rounded focus:outline-none focus:ring focus:ring-blue-200" />
    </div>

    <div>
      <label for="fechaFin" class="block text-sm font-medium text-gray-700 mb-1">
        Fecha de Fin
      </label>
      <input type="date" id="fechaFin" name="fechaFin" [(ngModel)]="consulta.fechaFin" required
        class="border p-2 w-full rounded focus:outline-none focus:ring focus:ring-blue-200" />
    </div>

    <button type="submit"
      class="bg-blue-600 text-white p-2 rounded hover:bg-blue-700 disabled:opacity-50">
    Consultar</button>

    <!-- <div *ngIf="error" class="text-red-600 text-center">
      {{ error }}
    </div> -->
  </form>


  <table class="w-full table-auto border-collapse border border-gray-300 mb-6">
    <thead class="bg-gray-100">
      <tr>
        <th class="p-2 border">Nombre</th>
        <th class="p-2 border">Estado</th>
        <th class="p-2 border">Cliente</th>
        <th class="p-2 border">Plan</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let reporte of reportes" class="hover:bg-gray-50">
        <td class="p-2 border">{{ reporte.nombre }}</td>
        <td class="p-2 border">{{ reporte.estado }}</td>
        <td class="p-2 border">{{ reporte.clienteId || reporte.cliente?.nombre || 'N/A' }}</td>
        <td class="p-2 border">{{ reporte.planId || reporte.plan?.nombrePlan || 'N/A' }}</td>
      </tr>
    </tbody>
  </table>


</div>
