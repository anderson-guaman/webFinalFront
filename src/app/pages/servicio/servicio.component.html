<div class="max-w-4xl mx-auto mt-8 p-4">
  <h1 class="text-2xl font-bold text-gray-800 mb-6">Servicios</h1>

  <table class="w-full table-auto border-collapse border border-gray-300 mb-6">
    <thead class="bg-gray-100">
      <tr>
        <th class="p-2 border">Nombre</th>
        <th class="p-2 border">Estado</th>
        <th class="p-2 border">Cliente</th>
        <th class="p-2 border">Plan</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let servicio of servicios" class="hover:bg-gray-50">
        <td class="p-2 border">{{ servicio.nombre }}</td>
        <td class="p-2 border">{{ servicio.estado }}</td>
        <td class="p-2 border">{{ servicio.clienteId || servicio.cliente?.nombre || 'N/A' }}</td>
        <td class="p-2 border">{{ servicio.planId || servicio.plan?.nombrePlan || 'N/A' }}</td>
      </tr>
    </tbody>
  </table>

  <h2 class="text-xl font-semibold text-gray-700 mb-4">Nuevo Servicio</h2>

  <form (ngSubmit)="crearServicio()" class="grid gap-4">
    <input
      class="border p-2"
      [(ngModel)]="nuevoServicio.nombre"
      name="nombre"
      placeholder="Nombre del servicio"
      required
    />

    <select
      class="border p-2"
      [(ngModel)]="nuevoServicio.clienteId"
      name="clienteId"
      required
    >
      <option value="" disabled selected>Selecciona un cliente</option>
      <option *ngFor="let cliente of clientes" [value]="cliente.idCliente">
        {{ cliente.nombre }}
      </option>
    </select>

    <select
      class="border p-2"
      [(ngModel)]="nuevoServicio.planId"
      name="planId"
      required
    >
      <option value="" disabled selected>Selecciona un plan</option>
      <option *ngFor="let plan of planes" [value]="plan.idPlan">
        {{ plan.nombrePlan }}
      </option>
    </select>

    <select
      class="border p-2"
      [(ngModel)]="nuevoServicio.estado"
      name="estado"
      required
    >
      <option value="activo">Activo</option>
      <option value="inactivo">Inactivo</option>
    </select>

    <button
      class="bg-blue-600 text-white p-2 rounded hover:bg-blue-700"
      type="submit"
    >
      Crear Servicio
    </button>
  </form>
</div>
